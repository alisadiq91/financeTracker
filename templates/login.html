{% extends "base.html" %}
{% block content %}


{% if session.user %}
<!--defensive programming if user attempts to visit page by editing URL when they are already logged in -->
<div class="text-background container d-flex justify-content-center my-5 py-5">
    <div class="row">
        <div class="col-12 text-center mt-5">
<!--error message to show -->
            <h1 class="py-3 titles">You are already logged in!</h1>
            <a href="{{ url_for ('profile', username=session['user'])}}" class="other-text btn btn-success my-5 "><i class="fas fa-user nav-user"></i> My profile</a>
            <a href="{{ url_for ('logout') }}" class="other-text btn btn-success my-5 logout-confirm"> <i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </div>
</div>

{% else %}
<!--if user is not logged in, page shows as usual -->
<div class="container">
    <div class="row">
<!--bootstrap form to log in from https://www.tutorialrepublic.com/snippets/preview.php?topic=bootstrap&file=simple-login-form-->
        <div class="signup-form text-center">
            <form method="POST" action="{{ url_for('login')}}">
                <h2 class="titles">Login</h2>
                <div class="form-group">
                    <i class="fas fa-user"></i>
<!--username field -->
                    <input type="text" class="form-control mt-3" name="username" id="username" placeholder="Username" required>
                </div>
                <div class="form-group">
                    <i class="fas fa-lock"></i>
<!--password field -->
                    <input type="password" class="form-control mt-3" name="password" id="password" placeholder="Password" required>
<!--forgot password function -->
                    <span class="help-block" id="passwordHelpBlock"><a href="{{ url_for('forgot_pass')}}">Forgot Password?</a></span>
                </div>
                <div class="form-group">
<!--submit button -->
                    <button type="submit" class="other-text btn btn-success btn-lg btn-block">Login</button>
                </div>
            </form>
<!--link to register if not signed up -->
            <div class="text-background white-text">Don't have an account? <a href="{{ url_for('register')}}">Register here!</a></div>
        </div>
    </div>
</div>

{% endif %}

{% endblock %}